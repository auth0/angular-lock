!function(){"use strict";function t(){if("function"!=typeof Auth0Lock)throw new Error("Auth0Lock must be loaded.");Auth0Lock.prototype.getClient=function(){},Auth0Lock.prototype.parseHash=function(){},this.init=function(t){if(!t)throw new Error("clientID and domain must be provided to lock");this.clientID=t.clientID,this.domain=t.domain,this.options=t.options||{},this.options._telemetryInfo={name:"angular-lock",version:"3.0.2"}},this.$get=["$rootScope","$location",function(t,o){function n(o){var n=t.$root.$$phase;"$apply"===n||"$digest"===n?o&&"function"==typeof o&&o():t.$apply(o)}function i(t){var o=t.length-1,i=t[o];return"function"==typeof i&&(t[o]=function(){var t=arguments;n(function(){i.apply(e,t)})}),t}var e=new Auth0Lock(this.clientID,this.domain,this.options),r={clientID:this.clientID,domain:this.domain,_telemetryInfo:this.options._telemetryInfo,_sendTelemetry:this.options._sendTelemetry},a=!0;!1===this.options._idTokenVerification&&(a=!1);var s={},c=[];for(var h in e)"function"==typeof e[h]&&c.push(h);for(var h=0;h<c.length;h++)s[c[h]]=function(t){return function(){return e[t].apply(e,i(arguments))}}(c[h]);return s.interceptHash=function(){if("function"!=typeof auth0.WebAuth)throw new Error("Auth0.js version 8 or higher must be loaded");t.$on("$locationChangeStart",function(t,n){if(/id_token=/.test(n)||/access_token=/.test(n)||/error=/.test(n)){var i=new auth0.WebAuth(r),s=o.hash()||window.location.hash;i.parseHash({hash:s,_idTokenVerification:a},function(t,o){t&&e.emit("authorization_error",t),o&&o.idToken&&e.emit("authenticated",o)})}})},s}]}angular.module("auth0.lock",[]).provider("lock",t)}();