!function(){"use strict";angular.module("auth0.lock",[]).provider("lock",function(){if("function"!=typeof Auth0Lock)throw new Error("Auth0Lock must be loaded.");Auth0Lock.prototype.getClient=function(){},Auth0Lock.prototype.parseHash=function(){},this.init=function(t){if(!t)throw new Error("clientID and domain must be provided to lock");this.clientID=t.clientID,this.domain=t.domain,this.options=t.options||{},this.options._telemetryInfo={name:"angular-lock",version:"3.0.4"}},this.$get=["$rootScope","$location",function(e,r){var a=new Auth0Lock(this.clientID,this.domain,this.options),s={clientID:this.clientID,domain:this.domain,_telemetryInfo:this.options._telemetryInfo,_sendTelemetry:this.options._sendTelemetry},h=!0;!1===this.options._idTokenVerification&&(h=!1);var t={},o=[];for(var n in a)"function"==typeof a[n]&&o.push(n);function i(t){var o=t.length-1,i=t[o];return"function"==typeof i&&(t[o]=function(){var t,o,n=arguments;t=function(){i.apply(a,n)},"$apply"===(o=e.$root.$$phase)||"$digest"===o?t&&"function"==typeof t&&t():e.$apply(t)}),t}for(n=0;n<o.length;n++)t[o[n]]=function(t){return function(){return a[t].apply(a,i(arguments))}}(o[n]);return t.interceptHash=function(){if("function"!=typeof auth0.WebAuth)throw new Error("Auth0.js version 8 or higher must be loaded");e.$on("$locationChangeStart",function(t,o){if(/id_token=/.test(o)||/access_token=/.test(o)||/error=/.test(o)){var n=new auth0.WebAuth(s),i=r.hash()||window.location.hash;n.parseHash({hash:i,_idTokenVerification:h},function(t,o){t&&a.emit("authorization_error",t),o&&o.idToken&&a.emit("authenticated",o)})}})},t}]})}();